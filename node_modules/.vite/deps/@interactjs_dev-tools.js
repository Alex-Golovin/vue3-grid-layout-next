import {
  interact
} from "./chunk-5BACM2RS.js";
import {
  domObjects,
  extend,
  is,
  isNonNativeEvent,
  normalize,
  parentNode,
  win
} from "./chunk-PAETVFDA.js";
import "./chunk-RSJERJUL.js";

// node_modules/.pnpm/@interactjs+dev-tools@1.10.27_@interactjs+modifiers@1.10.27_@interactjs+core@1.10.27_@interac_gjwt6c5varoousvfd43vynvhja/node_modules/@interactjs/dev-tools/plugin.js
var CheckName = function(CheckName2) {
  CheckName2["touchAction"] = "touchAction";
  CheckName2["boxSizing"] = "boxSizing";
  CheckName2["noListeners"] = "noListeners";
  return CheckName2;
}(CheckName || {});
var prefix = "[interact.js] ";
var links = {
  touchAction: "https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",
  boxSizing: "https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"
};
function install(scope) {
  let {
    logger
  } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  const {
    Interactable,
    defaults
  } = scope;
  scope.logger = logger || console;
  defaults.base.devTools = {
    ignore: {}
  };
  Interactable.prototype.devTools = function(options) {
    if (options) {
      extend(this.options.devTools, options);
      return this;
    }
    return this.options.devTools;
  };
  const {
    _onOff
  } = Interactable.prototype;
  Interactable.prototype._onOff = function(method, typeArg, listenerArg, options, filter) {
    if (is.string(this.target) || this.target.addEventListener) {
      return _onOff.call(this, method, typeArg, listenerArg, options, filter);
    }
    if (is.object(typeArg) && !is.array(typeArg)) {
      options = listenerArg;
      listenerArg = null;
    }
    const normalizedListeners = normalize(typeArg, listenerArg, filter);
    for (const type in normalizedListeners) {
      if (isNonNativeEvent(type, scope.actions))
        continue;
      scope.logger.warn(prefix + `Can't add native "${type}" event listener to target without \`addEventListener(type, listener, options)\` prop.`);
    }
    return _onOff.call(this, method, normalizedListeners, options);
  };
}
var checks = [{
  name: CheckName.touchAction,
  perform(_ref) {
    let {
      element
    } = _ref;
    return !!element && !parentHasStyle(element, "touchAction", /pan-|pinch|none/);
  },
  getInfo(_ref2) {
    let {
      element
    } = _ref2;
    return [element, links.touchAction];
  },
  text: 'Consider adding CSS "touch-action: none" to this element\n'
}, {
  name: CheckName.boxSizing,
  perform(interaction) {
    const {
      element
    } = interaction;
    return interaction.prepared.name === "resize" && element instanceof domObjects.HTMLElement && !hasStyle(element, "boxSizing", /border-box/);
  },
  text: 'Consider adding CSS "box-sizing: border-box" to this resizable element',
  getInfo(_ref3) {
    let {
      element
    } = _ref3;
    return [element, links.boxSizing];
  }
}, {
  name: CheckName.noListeners,
  perform(interaction) {
    var _interaction$interact;
    const actionName = interaction.prepared.name;
    const moveListeners = ((_interaction$interact = interaction.interactable) == null ? void 0 : _interaction$interact.events.types[`${actionName}move`]) || [];
    return !moveListeners.length;
  },
  getInfo(interaction) {
    return [interaction.prepared.name, interaction.interactable];
  },
  text: "There are no listeners set for this action"
}];
function hasStyle(element, prop, styleRe) {
  const value = element.style[prop] || win.getComputedStyle(element)[prop];
  return styleRe.test((value || "").toString());
}
function parentHasStyle(element, prop, styleRe) {
  let parent = element;
  while (is.element(parent)) {
    if (hasStyle(parent, prop, styleRe)) {
      return true;
    }
    parent = parentNode(parent);
  }
  return false;
}
var id = "dev-tools";
var defaultExport = {
  id,
  install,
  listeners: {
    "interactions:action-start": (_ref4, scope) => {
      let {
        interaction
      } = _ref4;
      for (const check of checks) {
        const options = interaction.interactable && interaction.interactable.options;
        if (!(options && options.devTools && options.devTools.ignore[check.name]) && check.perform(interaction)) {
          scope.logger.warn(prefix + check.text, ...check.getInfo(interaction));
        }
      }
    }
  },
  checks,
  CheckName,
  links,
  prefix
};

// node_modules/.pnpm/@interactjs+dev-tools@1.10.27_@interactjs+modifiers@1.10.27_@interactjs+core@1.10.27_@interac_gjwt6c5varoousvfd43vynvhja/node_modules/@interactjs/dev-tools/index.js
interact.use(defaultExport);
//# sourceMappingURL=@interactjs_dev-tools.js.map
